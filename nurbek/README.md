# Telegram Information System

Это система для управления информационными карточками пользователей в Telegram WebApp. Она использует localStorage браузера для хранения данных пользователей и позволяет создавать, просматривать и редактировать записи.

## Особенности

- Объектно-ориентированная архитектура (ООП)
- Главное меню со списком всех записей пользователя
- Просмотр информации о пользователе с пользовательскими анимациями
- Создание новых записей пользователей
- Редактирование существующих записей
- Копирование ссылок на записи для шаринга
- Хранение данных в localStorage браузера
- Предварительный просмотр записей перед сохранением
- Адаптивный дизайн, который хорошо работает в Telegram WebApp

## Архитектура

Проект построен с использованием объектно-ориентированного подхода (ООП) и разделен на несколько классов:

- **Database** - класс для работы с данными в localStorage
- **TelegramApp** - класс для работы с Telegram WebApp API
- **UI** - класс для работы с пользовательским интерфейсом
- **IndexPage**, **ViewPage**, **CreatePage** - классы для управления страницами

## Файлы

### HTML страницы
- `index.html` - Главное меню со списком записей
- `view.html` - Страница просмотра отдельной записи
- `create.html` - Страница создания/редактирования записей

### JavaScript файлы
- `database.js` - Класс для работы с данными
- `telegram.js` - Класс для работы с Telegram WebApp API
- `ui.js` - Класс для работы с пользовательским интерфейсом
- `index.js` - Логика главной страницы
- `view.js` - Логика страницы просмотра
- `create.js` - Логика страницы создания/редактирования

### Стили
- `styles.css` - Стили для всех страниц

## Как использовать

### Главное меню

1. Откройте приложение через Telegram Bot
2. В главном меню отображаются все ваши записи
3. Для каждой записи доступны кнопки "Просмотр", "Редактировать" и "Копировать ссылку"
4. Нажмите на кнопку "Создать новую запись" для создания новой записи

### Просмотр информации о пользователе

1. Нажмите на кнопку "Просмотр" рядом с нужной записью
2. На странице просмотра отображается полная информация о пользователе
3. Вы можете скопировать ссылку на запись, нажав на кнопку "Копировать ссылку"
4. Для редактирования записи нажмите на кнопку "Редактировать"

### Создание новых записей

1. Нажмите на кнопку "Создать новую запись" в главном меню
2. Заполните форму информацией о пользователе
3. Вы можете предварительно просмотреть запись перед сохранением
4. Нажмите "Сохранить", чтобы добавить запись в базу данных
5. После сохранения вы получите уведомление со ссылкой на созданную запись

### Редактирование записей

1. Нажмите на кнопку "Редактировать" рядом с нужной записью
2. Внесите необходимые изменения в форму
3. Нажмите "Сохранить изменения", чтобы обновить запись

### Параметры URL

- `id` - Указывает, какого пользователя отображать (например, `view.html?id=2`)
- `edit` - Указывает, какую запись редактировать (например, `create.html?edit=2`)
- `user_id` - Идентификатор создателя записи (обычно передается из Telegram)

## Структура данных

Каждая запись содержит следующие поля:

- `id` - Уникальный идентификатор записи
- `username` - Имя пользователя
- `handle` - Никнейм пользователя
- `date` - Дата
- `message` - Сообщение
- `views` - Количество просмотров
- `animation` - URL анимации
- `creator_id` - ID создателя записи
- `created_at` - Дата и время создания записи
- `updated_at` - Дата и время последнего обновления записи

## Требования

- Современный веб-браузер с поддержкой localStorage
- Среда Telegram WebApp

## Настройка

1. Загрузите все файлы на ваш веб-сервер
2. Настройте вашего Telegram бота для использования WebApp
3. Укажите URL вашего приложения в настройках бота

## Примечания

- Анимация по умолчанию - `https://assets9.lottiefiles.com/packages/lf20_jhlaooj5.json`
- Если пользователь не указывает анимацию, будет использоваться анимация по умолчанию
- Просмотры форматируются в соответствии с русской локалью (например, "922 056")
- Данные хранятся локально в браузере пользователя, поэтому они будут доступны только на том устройстве, где были созданы
- Каждая запись имеет уникальный идентификатор, который используется для создания ссылок
- Записи привязаны к user_id создателя, что позволяет пользователям видеть только свои записи 