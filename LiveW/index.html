<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ–º–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å JSON –¥–∞–Ω–Ω—ã–º–∏</title>
    <style>
        body {
            background: #0f1119;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: monospace;
            color: #e0e0e0;
        }
        .glass-container {
            width: 450px;
            background: rgba(30, 34, 51, 0.4);
            border-radius: 15px;
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.37);
            padding: 25px;
        }
        .json-display {
            width: 100%;
            line-height: 1.6;
            font-size: 16px;
            margin: 0;
            white-space: pre-wrap;
            color: #bdc7d8;
        }
        .json-key { color: #73c990; }
        .json-string { color: #ff98a4; }
        .json-bracket { color: #c39ac9; }
        .json-colon { color: #79b8ff; margin-right: 8px; }
        .json-comma { color: #79b8ff; }
        .time-container {
            display: inline-block;
            padding: 2px 4px;
            background: rgba(121, 184, 255, 0.1);
            border-radius: 4px;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { background: rgba(121, 184, 255, 0.1); }
            50% { background: rgba(121, 184, 255, 0.2); }
        }
    </style>
</head>
<body>
    <div class="glass-container">
        <pre id="json-content" class="json-display"></pre>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ
        const data = {
            city: "–ö–æ–∫—à–µ—Ç–∞—É",
            date: new Date().toLocaleDateString('ru-RU'),
            time: new Date().toLocaleTimeString('ru-RU'),
            weather: "‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞..."
        };

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JSON —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π
        function formatJSON(json) {
            return JSON.stringify(json, null, 4)
                .replace(/"([^"]+)":/g, '<span class="json-key">"$1"</span><span class="json-colon">:</span>')
                .replace(/: "([^"]+)"/g, ': <span class="json-string">"$1"</span>')
                .replace(/,/g, '<span class="json-comma">,</span>')
                .replace(/\{/g, '<span class="json-bracket">{</span>')
                .replace(/\}/g, '<span class="json-bracket">}</span>')
                .replace(/"time": <span class="json-string">"([^"]+)"<\/span>/g, 
                    '"time": <span class="json-string time-container">"$1"</span>');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
        function updateTime() {
            data.time = new Date().toLocaleTimeString('ru-RU');
            renderJSON();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã
        function updateWeather() {
            const conditions = [
                { text: "—è—Å–Ω–æ", emoji: "‚òÄÔ∏è" },
                { text: "–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—á–Ω–æ—Å—Ç—å", emoji: "üå§Ô∏è" },
                { text: "–æ–±–ª–∞—á–Ω–æ", emoji: "‚òÅÔ∏è" },
                { text: "–Ω–µ–±–æ–ª—å—à–æ–π –¥–æ–∂–¥—å", emoji: "üåßÔ∏è" },
                { text: "—Å–æ–ª–Ω–µ—á–Ω–æ", emoji: "üòé" },
                { text: "—Ç—É–º–∞–Ω", emoji: "üå´Ô∏è" },
                { text: "–≥—Ä–æ–∑–∞", emoji: "‚õàÔ∏è" },
                { text: "—Å–Ω–µ–≥", emoji: "‚ùÑÔ∏è" }
            ];
            const condition = conditions[Math.floor(Math.random() * conditions.length)];
            const temp = Math.floor(Math.random() * 15) + 10;
            
            data.weather = `${condition.emoji} ${temp} ¬∞C, ${condition.text}`;
            renderJSON();
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã
            localStorage.setItem('lastWeatherUpdate', Date.now().toString());
        }

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ JSON
        function renderJSON() {
            const jsonData = {
                "Aliaskhan": {
                    "data": data.date,
                    "time": data.time,
                    "weather": data.weather,
                    "city": data.city
                }
            };
            document.getElementById('json-content').innerHTML = formatJSON(jsonData);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
            setInterval(updateTime, 1000);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–≥–æ–¥—É
            const lastUpdate = localStorage.getItem('lastWeatherUpdate');
            if (!lastUpdate || (Date.now() - parseInt(lastUpdate) > 3600000)) {
                updateWeather();
            } else {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é –ø–æ–≥–æ–¥—É –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å
                const savedWeather = localStorage.getItem('cachedWeather');
                if (savedWeather) {
                    data.weather = savedWeather;
                } else {
                    updateWeather();
                }
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–≥–æ–¥—É –∫–∞–∂–¥—ã–π —á–∞—Å
            setInterval(updateWeather, 3600000);
            
            // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
            renderJSON();
        }

        // –ó–∞–ø—É—Å–∫
        init();
    </script>
</body>
</html>
