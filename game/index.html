<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>–ö–æ—Å—Ç–∏: –ö—Ç–æ –≤—ã—à–µ? üé≤</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <!-- Firebase SDK (—Ç–æ–ª—å–∫–æ databaseURL, –±–µ–∑ –∫–ª—é—á–µ–π!) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>
<body>
  <div class="container">
    <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
    <div id="menu" class="screen active">
      <h1 class="title">üé≤ –ö–æ—Å—Ç–∏: –ö—Ç–æ –≤—ã—à–µ?</h1>
      <div class="balance">–ë–∞–ª–∞–Ω—Å: <span id="balance">1000</span> üí∞</div>
      
      <div class="card">
        <h2>–°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É</h2>
        <input type="number" id="betAmount" placeholder="–°—Ç–∞–≤–∫–∞" min="10" value="50" />
        <button class="btn primary" id="createGame">–°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
      </div>

      <div class="card">
        <h2>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</h2>
        <input type="text" id="roomCode" placeholder="–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã" maxlength="6" />
        <button class="btn primary" id="joinGame">–í–æ–π—Ç–∏</button>
      </div>

      <div class="card rooms-list">
        <h2>–û—Ç–∫—Ä—ã—Ç—ã–µ –∫–æ–º–Ω–∞—Ç—ã</h2>
        <div id="roomsList">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç</div>
      </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –æ–∂–∏–¥–∞–Ω–∏—è —Å–æ–ø–µ—Ä–Ω–∏–∫–∞ -->
    <div id="waiting" class="screen">
      <div class="waiting-room">
        <h2>–ö–æ–º–Ω–∞—Ç–∞ <span id="roomIdDisplay"></span></h2>
        <p>–û–∂–∏–¥–∞–µ–º –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞...</p>
        <div class="dice-animation">
          <div class="dice">üé≤</div>
          <div class="dice">üé≤</div>
        </div>
        <button class="btn secondary" id="cancelRoom">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </div>

    <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
    <div id="game" class="screen">
      <div class="game-header">
        <div class="player you">
          <div class="avatar">–í—ã</div>
          <div class="name" id="player1Name">–í—ã</div>
          <div class="bet">–°—Ç–∞–≤–∫–∞: <span id="gameBet">50</span> üí∞</div>
        </div>
        <div class="vs">VS</div>
        <div class="player opponent">
          <div class="avatar">?</div>
          <div class="name" id="player2Name">–û–∂–∏–¥–∞–µ–º...</div>
        </div>
      </div>

      <div class="dice-area">
        <div class="player-dice">
          <div id="yourDice" class="dice-big">üé≤</div>
          <div id="yourResult" class="result">-</div>
        </div>
        <div class="player-dice">
          <div id="opponentDice" class="dice-big">üé≤</div>
          <div id="opponentResult" class="result">-</div>
        </div>
      </div>

      <button class="btn primary big" id="rollBtn" disabled>–ë—Ä–æ—Å–∏—Ç—å –∫–æ—Å—Ç–∏!</button>
      <div id="gameStatus" class="status"></div>
      <button class="btn secondary" id="leaveGame">–ü–æ–∫–∏–Ω—É—Ç—å –∏–≥—Ä—É</button>
    </div>

    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
    <div id="result" class="screen">
      <h1 id="resultText">–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏! üéâ</h1>
      <div class="big-win">+<span id="winAmount">150</span> üí∞</div>
      <button class="btn primary" id="playAgain">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  <script src="app.js"></script>
</body>
</html>
