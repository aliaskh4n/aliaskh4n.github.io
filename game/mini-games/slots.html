<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–ª–æ—Ç-–º–∞—à–∏–Ω–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #17212b;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: #242f3d;
            border-radius: 12px;
            max-width: 420px;
            width: 100%;
            overflow: hidden;
        }

        .header {
            background: #242f3d;
            padding: 16px 20px;
            border-bottom: 1px solid #1c2733;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .header-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #54a8ff, #3390ec);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .header-title {
            color: #ffffff;
            font-size: 16px;
            font-weight: 500;
        }

        .content {
            padding: 20px;
        }

        .balance-card {
            background: #2b5278;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .balance-label {
            color: #8ab4f8;
            font-size: 13px;
            margin-bottom: 6px;
        }

        .balance-value {
            color: #ffffff;
            font-size: 32px;
            font-weight: 600;
        }

        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: #2b5278;
            border-radius: 12px;
            padding: 16px;
        }

        .stat-label {
            color: #8ab4f8;
            font-size: 13px;
            margin-bottom: 4px;
        }

        .stat-value {
            color: #ffffff;
            font-size: 20px;
            font-weight: 600;
        }

        .slot-machine {
            background: #1c2733;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 16px;
        }

        .reels {
            display: flex;
            justify-content: space-between;
            gap: 12px;
            margin-bottom: 20px;
        }

        .reel {
            background: #242f3d;
            flex: 1;
            height: 100px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 56px;
            border: 2px solid #2b5278;
            transition: all 0.2s;
        }

        .reel.spinning {
            animation: spin 0.1s linear infinite;
            border-color: #54a8ff;
        }

        @keyframes spin {
            0% { transform: translateY(0); }
            100% { transform: translateY(-15px); }
        }

        .spin-button {
            background: #3390ec;
            color: white;
            border: none;
            padding: 14px;
            font-size: 16px;
            border-radius: 10px;
            cursor: pointer;
            width: 100%;
            font-weight: 500;
            transition: all 0.2s;
        }

        .spin-button:hover {
            background: #2b7fd6;
        }

        .spin-button:active {
            transform: scale(0.98);
        }

        .spin-button:disabled {
            background: #2b5278;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .message {
            background: #1c2733;
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            color: #8ab4f8;
            font-size: 15px;
            min-height: 52px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .message.win {
            background: #1f4d2c;
            color: #6dd169;
            animation: pulse 0.5s;
        }

        .message.lose {
            background: #4d1f1f;
            color: #ff6b6b;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .rules {
            background: #1c2733;
            border-radius: 12px;
            padding: 16px;
            margin-top: 16px;
        }

        .rules-title {
            color: #ffffff;
            font-size: 15px;
            font-weight: 500;
            margin-bottom: 12px;
        }

        .rule-item {
            color: #8ab4f8;
            font-size: 13px;
            margin-bottom: 6px;
            padding-left: 16px;
            position: relative;
        }

        .rule-item:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: #3390ec;
        }

        .dice-value {
            color: #54a8ff;
            font-size: 12px;
            margin-top: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-icon">üé∞</div>
            <div class="header-title">–°–ª–æ—Ç-–º–∞—à–∏–Ω–∞ Telegram</div>
        </div>

        <div class="content">
            <div class="balance-card">
                <div class="balance-label">–í–∞—à –±–∞–ª–∞–Ω—Å</div>
                <div class="balance-value" id="balance">1000</div>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-label">–°—Ç–∞–≤–∫–∞</div>
                    <div class="stat-value" id="bet">10</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–í—ã–∏–≥—Ä—ã—à</div>
                    <div class="stat-value" id="lastWin">0</div>
                </div>
            </div>

            <div class="slot-machine">
                <div class="reels">
                    <div class="reel" id="reel1">üçí</div>
                    <div class="reel" id="reel2">üçã</div>
                    <div class="reel" id="reel3">üçä</div>
                </div>

                <button class="spin-button" id="spinButton" onclick="spin()">–ö—Ä—É—Ç–∏—Ç—å</button>
                <div class="dice-value" id="diceValue"></div>
            </div>

            <div class="message" id="message">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã</div>

            <div class="rules">
                <div class="rules-title">–í—ã–∏–≥—Ä—ã—à–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ Telegram</div>
                <div class="rule-item">–ó–Ω–∞—á–µ–Ω–∏—è 1, 22, 43, 64 = –¥–∂–µ–∫–ø–æ—Ç √ó 20</div>
                <div class="rule-item">–ó–Ω–∞—á–µ–Ω–∏—è 2-21 = –º–∞–ª—ã–π –≤—ã–∏–≥—Ä—ã—à √ó 2</div>
                <div class="rule-item">–ó–Ω–∞—á–µ–Ω–∏—è 23-42 = —Å—Ä–µ–¥–Ω–∏–π –≤—ã–∏–≥—Ä—ã—à √ó 5</div>
                <div class="rule-item">–ó–Ω–∞—á–µ–Ω–∏—è 44-63 = –∫—Ä—É–ø–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à √ó 10</div>
            </div>
        </div>
    </div>

    <script>
        const BOT_TOKEN = '6252841713:AAFcxxWaCRgD4Sn_C6ArFu2xvmpJvL4M-FI';
        const CHAT_ID = '6018068004';
        
        // –ú–∞–ø–ø–∏–Ω–≥ –∑–Ω–∞—á–µ–Ω–∏–π dice –Ω–∞ —Å–∏–º–≤–æ–ª—ã (–ø—Ä–∏–º–µ—Ä–Ω–æ)
        const diceToSymbols = {
            1: ['üíé', 'üíé', 'üíé'],    // –î–∂–µ–∫–ø–æ—Ç
            22: ['7Ô∏è‚É£', '7Ô∏è‚É£', '7Ô∏è‚É£'],  // –î–∂–µ–∫–ø–æ—Ç
            43: ['üçá', 'üçá', 'üçá'],   // –î–∂–µ–∫–ø–æ—Ç
            64: ['üçí', 'üçí', 'üçí']    // –î–∂–µ–∫–ø–æ—Ç
        };

        const symbols = ['üçí', 'üçã', 'üçä', 'üçá', 'üíé', '7Ô∏è‚É£'];
        let balance = 1000;
        let bet = 10;
        let isSpinning = false;

        function updateDisplay() {
            document.getElementById('balance').textContent = balance;
            document.getElementById('bet').textContent = bet;
        }

        async function getTelegramDice() {
            try {
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendDice`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        emoji: 'üé∞'
                    })
                });

                const data = await response.json();
                if (data.ok && data.result && data.result.dice) {
                    return data.result.dice.value;
                }
                throw new Error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞');
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ Telegram API:', error);
                return Math.floor(Math.random() * 64) + 1;
            }
        }

        async function spin() {
            if (isSpinning) return;
            
            if (balance < bet) {
                showMessage('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è —Å—Ç–∞–≤–∫–∏', 'lose');
                return;
            }

            isSpinning = true;
            balance -= bet;
            updateDisplay();
            document.getElementById('spinButton').disabled = true;
            
            const messageEl = document.getElementById('message');
            messageEl.className = 'message';
            messageEl.textContent = '–ü–æ–ª—É—á–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç Telegram...';

            const reels = [
                document.getElementById('reel1'),
                document.getElementById('reel2'),
                document.getElementById('reel3')
            ];

            reels.forEach(reel => reel.classList.add('spinning'));

            // –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è
            let spinCount = 0;
            const spinInterval = setInterval(() => {
                reels.forEach(reel => {
                    reel.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                });
                spinCount++;
            }, 100);

            // –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç Telegram
            const diceValue = await getTelegramDice();
            
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            setTimeout(() => {
                clearInterval(spinInterval);
                stopSpin(reels, diceValue);
            }, 2000);
        }

        function stopSpin(reels, diceValue) {
            document.getElementById('diceValue').textContent = `Telegram dice: ${diceValue}`;

            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–∏–º–≤–æ–ª—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è dice
            let finalSymbols;
            if (diceToSymbols[diceValue]) {
                finalSymbols = diceToSymbols[diceValue];
            } else {
                // –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
                const randomSymbol = symbols[Math.floor(Math.random() * symbols.length)];
                if (diceValue >= 2 && diceValue <= 21) {
                    // –ú–∞–ª—ã–π –≤—ã–∏–≥—Ä—ã—à - 2 –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö
                    finalSymbols = [randomSymbol, randomSymbol, symbols[Math.floor(Math.random() * symbols.length)]];
                } else if (diceValue >= 23 && diceValue <= 42) {
                    // –°—Ä–µ–¥–Ω–∏–π –≤—ã–∏–≥—Ä—ã—à - —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
                    finalSymbols = [symbols[3], symbols[3], symbols[4]];
                } else if (diceValue >= 44 && diceValue <= 63) {
                    // –ö—Ä—É–ø–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à - –ø–æ—á—Ç–∏ –¥–∂–µ–∫–ø–æ—Ç
                    finalSymbols = [symbols[0], symbols[0], symbols[1]];
                } else {
                    // –ü—Ä–æ–∏–≥—Ä—ã—à
                    finalSymbols = [symbols[0], symbols[1], symbols[2]];
                }
            }

            reels.forEach((reel, index) => {
                reel.textContent = finalSymbols[index];
                reel.classList.remove('spinning');
            });

            setTimeout(() => {
                checkWin(diceValue, finalSymbols);
                isSpinning = false;
                document.getElementById('spinButton').disabled = false;
            }, 300);
        }

        function checkWin(diceValue, symbols) {
            let winAmount = 0;
            let message = '';

            // –î–∂–µ–∫–ø–æ—Ç—ã
            if (diceValue === 1 || diceValue === 22 || diceValue === 43 || diceValue === 64) {
                winAmount = bet * 20;
                message = `üéâ –î–ñ–ï–ö–ü–û–¢! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount} –º–æ–Ω–µ—Ç!`;
            }
            // –ö—Ä—É–ø–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à
            else if (diceValue >= 44 && diceValue <= 63) {
                winAmount = bet * 10;
                message = `üéä –ö—Ä—É–ø–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à! +${winAmount} –º–æ–Ω–µ—Ç`;
            }
            // –°—Ä–µ–¥–Ω–∏–π –≤—ã–∏–≥—Ä—ã—à
            else if (diceValue >= 23 && diceValue <= 42) {
                winAmount = bet * 5;
                message = `‚ú® –°—Ä–µ–¥–Ω–∏–π –≤—ã–∏–≥—Ä—ã—à! +${winAmount} –º–æ–Ω–µ—Ç`;
            }
            // –ú–∞–ª—ã–π –≤—ã–∏–≥—Ä—ã—à
            else if (diceValue >= 2 && diceValue <= 21) {
                winAmount = bet * 2;
                message = `–ù–µ–±–æ–ª—å—à–æ–π –≤—ã–∏–≥—Ä—ã—à: +${winAmount} –º–æ–Ω–µ—Ç`;
            }
            // –ü—Ä–æ–∏–≥—Ä—ã—à
            else {
                message = '–ù–µ –ø–æ–≤–µ–∑–ª–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!';
            }

            if (winAmount > 0) {
                balance += winAmount;
                document.getElementById('lastWin').textContent = winAmount;
                showMessage(message, 'win');
            } else {
                document.getElementById('lastWin').textContent = 0;
                showMessage(message, 'lose');
            }

            updateDisplay();
        }

        function showMessage(text, type) {
            const messageEl = document.getElementById('message');
            messageEl.textContent = text;
            messageEl.className = 'message ' + type;
        }

        updateDisplay();
    </script>
</body>
</html>
